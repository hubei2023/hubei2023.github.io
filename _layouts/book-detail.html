---
layout: default
---

<!-- 引入 jsMind 样式和脚本 -->
<link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jsmind@0.7.5/style/jsmind.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jsmind@0.7.5/es6/jsmind.js"></script>

<div class="book-brief">
  <div class="book-title-row">
    <span class="book-title">{{ page.book_title }}</span>
    <span class="book-meta-inline">
      {{ page.author }} | {{ page.country }} | {{ page.year }} | {{ page.book_type }}
    </span>
  </div>
  <div class="book-desc">{{ page.description | markdownify }}</div>
</div>

<div class="book-sections">
  <div class="section-card">
    <div class="section-title">📝 作者背景</div>
    <div class="section-content">{{ page.author_background | markdownify }}</div>
  </div>
  <div class="section-card">
    <div class="section-title">📚 书籍目录</div>
    <div class="section-content">
      <div id="catalog-mindmap" style="width:100%;height:220px;background:#fff;border-radius:6px;"></div>
      <script id="catalog-data" type="application/json">
      [
        {% for chapter in page.catalog %}
          {"id":"c{{ forloop.index }}","topic":"{{ chapter }}"}{% unless forloop.last %},{% endunless %}
        {% endfor %}
      ]
      </script>
    </div>
  </div>
  <div class="section-card">
    <div class="section-title">💡 核心观点</div>
    <div class="section-content">
      <ul class="core-viewpoints-list">
        {% for viewpoint in page.core_viewpoints %}
          <li><strong>{{ viewpoint.title }}：</strong>{{ viewpoint.description }}</li>
        {% endfor %}
      </ul>
      <div class="core-conclusion"><strong>核心结论：</strong>{{ page.core_conclusion }}</div>
    </div>
  </div>
  <div class="section-card">
    <div class="section-title">🔗 相关书籍</div>
    <div class="section-content">
      <ul class="related-books-list">
        {% for book in page.related_books %}
          <li>
            <strong>{{ book.title }}</strong>（{{ book.author }}）：{{ book.relation }}
          </li>
        {% endfor %}
      </ul>
    </div>
  </div>
</div>

<style>
.book-brief {
  max-width: 700px;
  margin: 18px auto 0 auto;
  padding: 12px 16px;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
  font-size: 15px;
  color: #333;
}
.book-title-row {
  display: flex;
  flex-wrap: wrap;
  align-items: baseline;
  justify-content: space-between;
  margin-bottom: 6px;
}
.book-title { font-size: 1.3rem; font-weight: 700; margin-right: 10px; }
.book-meta-inline { font-size: 1rem; color: #666; }
.book-desc { margin-bottom: 6px; color: #444; }

.book-sections {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
  max-width: 900px;
  margin: 12px auto 0 auto;
}
.section-card {
  background: #f8f9fa;
  border-radius: 8px;
  box-shadow: 0 1px 4px rgba(0,0,0,0.04);
  padding: 12px 14px;
  font-size: 14px;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.section-title {
  font-weight: 600;
  color: #2c3e50;
  margin-bottom: 4px;
  font-size: 1.05rem;
}
.catalog-list, .core-viewpoints-list, .related-books-list {
  margin: 0 0 0 18px;
  padding: 0;
}
.core-conclusion {
  margin-top: 6px;
  background: #e6f7ff;
  border-radius: 5px;
  padding: 4px 8px;
  color: #005580;
  font-weight: 500;
  font-size: 13px;
}
@media (max-width: 700px) {
  .book-sections { grid-template-columns: 1fr; }
}
</style>

<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
  if (window.jsMind) {
    var children = [];
    try {
      var dataTag = document.getElementById('catalog-data');
      if(dataTag) children = JSON.parse(dataTag.textContent.replace(/\n/g, '').replace(/\s+/g, ' '));
    } catch(e) {}
    var mind = {
      "meta": {"name":"catalog-mindmap","author":"auto","version":"1.0"},
      "format": "node_tree",
      "data": {"id":"root","topic":"目录","children": children}
    };
    var options = {
      container:'catalog-mindmap',
      editable:false,
      theme:'primary',
      support_html:true,
      view:{line_width:2, line_color:'#bbb', hmargin:10, vmargin:10}
    };
    var jm = new jsMind(options);
    jm.show(mind);
  }
});
</script> 